@page "/settings"

@inherits AuthComponentBase

<FluentDesignTheme @bind-Mode="@Mode"
                   @bind-OfficeColor="@OfficeColor"
                   OnLoaded="@OnLoaded"
                   OnLuminanceChanged="@OnLuminanceChanged"
                   StorageName="theme" />

<FluentAccordion ActiveId="@activeId" OnAccordionItemChange="HandleOnAccordionItemChange">

    @* Theme Settings Accordion *@
    <PageSeparator Size=TextSize.H6 Alignment="PageSeparatorTextAlignment.Right">Theme</PageSeparator>

    <FluentAccordionItem Heading="Theme">
        <FluentIcon Value="@(new Icons.Regular.Size20.PaintBrushSparkle())" Color="@FluentColor.Neutral" Slot="start" />


        <FluentGrid Class="p-3">
            <FluentGridItem>
                <FluentSelect Label="Theme"
                              Width="250px"
                              Items="@(Enum.GetValues<DesignThemeModes>())"
                              @bind-SelectedOption="@Mode" />
            </FluentGridItem>

            <FluentGridItem>
                <FluentSelect Label="Color"
                              Items="@(Enum.GetValues<OfficeColor>().Select(i => (OfficeColor?)i))"
                              Height="200px"
                              Width="250px"
                              @bind-SelectedOption="@OfficeColor">
                    <OptionTemplate>
                        <FluentStack>
                            <FluentIcon Value="@(new Icons.Filled.Size20.RectangleLandscape())"
                                        Color="FluentColor.Custom"
                                        CustomColor="@(@context.ToAttributeValue() != "default" ? context.ToAttributeValue() : "#036ac4" )" />
                            <FluentLabel>@context</FluentLabel>
                        </FluentStack>
                    </OptionTemplate>
                </FluentSelect>
            </FluentGridItem>
        </FluentGrid>



    </FluentAccordionItem>

    @* Categories Accordion *@

    <PageSeparator Size=TextSize.H6 Alignment="PageSeparatorTextAlignment.Right" Class="mt-3">Categories</PageSeparator>

    <FluentAccordionItem Heading="Categories">
        <FluentIcon Value="@(new Icons.Regular.Size20.PaintBrushSparkle())" Color="@FluentColor.Neutral" Slot="start" />

        <FluentGrid Class="p-3">

            <FluentGridItem xxl="12" sm="12" Style="align-items:end">
                <FluentButton Appearance="Appearance.Accent">Add</FluentButton>
            </FluentGridItem>

            <FluentGridItem xxl="12" sm="12">
                <FluentDataGrid Items="@Categories!.AsQueryable()">

                    <TemplateColumn Title="Name" SortBy="@sortByName">
                        @context.Name
                    </TemplateColumn>

                    <TemplateColumn Title="Description" SortBy="@sortByDescription">
                        @context.Description
                    </TemplateColumn>

                    <TemplateColumn Title="Actions">
                        <FluentButton Appearance="Appearance.Accent">Edit</FluentButton>
                        <FluentButton Appearance="Appearance.Accent">Delete</FluentButton>
                    </TemplateColumn>

                </FluentDataGrid>
            </FluentGridItem>

        </FluentGrid>

    </FluentAccordionItem>


    @* <FluentAccordionItem Heading="Panel two">
    <div slot="end">
    #end#
    </div>
    Panel two content, using the 'end' slot for extra header content (in this case an HTML button)
    </FluentAccordionItem>
    <FluentAccordionItem Expanded="true" Heading="Panel three">
    Panel three content
    </FluentAccordionItem>
    <FluentAccordionItem Expanded="true">
    <HeadingTemplate>
    Panel <span style="color:red">Four</span>
    </HeadingTemplate>
    <ChildContent>
    Panel four content
    </ChildContent>
    </FluentAccordionItem> *@
</FluentAccordion>
